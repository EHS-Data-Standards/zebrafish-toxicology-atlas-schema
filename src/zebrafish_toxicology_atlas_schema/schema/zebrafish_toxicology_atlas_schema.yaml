---
id: https://w3id.org/sierra-moxon/zebrafish-toxicology-atlas-schema
name: zebrafish-toxicology-atlas-schema
title: zebrafish-toxicology-atlas-schema
description: |-
  Schema to represent metadata associated with the Zebrafish Toxicology Atlas
license: MIT
see_also:
  - https://sierra-moxon.github.io/zebrafish-toxicology-atlas-schema

prefixes:
  zebrafish_toxicology_atlas_schema: https://w3id.org/sierra-moxon/zebrafish-toxicology-atlas-schema/
  linkml: https://w3id.org/linkml/
  biolink: https://w3id.org/biolink/
  schema: http://schema.org/
  PATO: http://purl.obolibrary.org/obo/PATO_
  example: https://example.org/
  CHEBI: http://purl.obolibrary.org/obo/CHEBI_
  CAS: https://commonchemistry.cas.org/detail?cas_rn=
  ECTO: http://purl.obolibrary.org/obo/ECTO_
  EXO: http://purl.obolibrary.org/obo/EXO_
  ORCID: https://orcid.org/
  ZFIN: https://zfin.org/
default_prefix: zebrafish_toxicology_atlas_schema
default_range: string

imports:
  - linkml:types

classes:

  Entity:
    description: The base class for all entities in the Zebrafish Toxicology Atlas Schema.
    abstract: true
    slots:
      - uuid

  Study:
    is_a: Entity
    description: A toxicology study containing experiments.
    slots:
      - experiment
      - publication
      - contributor
      - lab

  Experiment:
    is_a: Entity
    description: An experiment within a study.
    slots:
      - phenotype_observation
      - control

  PhenotypeObservation:
    is_a: Entity
    description: An observation of phenotypes resulting from exposure experiments.
    slots:
      - exposure_experiment
      - image
      - phenotype
      - control
    rules:
      - preconditions:
          slot_conditions:
            control:
              equals_expression: "true"
        postconditions:
          slot_conditions:
            phenotype:
              required: false

  Phenotype:
    is_a: Entity
    description: A phenotype observed in the fish as a result of exposure.
    slots:
      - stage
      - prevalence
      - severity
      - phenotype_term_id

  ExposureExperiment:
    is_a: Entity
    description: An experiment exposing fish to chemical stressors.
    slots:
      - subject
      - exposure_event
      - standard_rearing_conditions
      - rearing_condition_comments

  ExposureEvent:
    is_a: Entity
    description: >-
      An instance of a toxicological exposure event in the study.
    slots:
      - stressor_chemical
      - vehicle
      - route
      - regimen
      - exposure_start_stage
      - exposure_end_stage
      - comments
      - exposure_type
      - additional_exposure_conditions
    exact_mappings:
      - biolink:ExposureEvent

  Regimen:
    is_a: Entity
    description: The regimen of exposure events.
    slots:
      - interval_between_exposures
      - time_between_first_and_last_exposure
      - individual_exposure_duration
      - number_of_repeats

  Stressor:
    is_a: Entity
    description: A chemical stressor used in exposure experiments.
    slots:
      - chemical
      - manufacturer
      - dose
      - comments

  ChemicalEntity:
    is_a: Entity
    description: A chemical compound used as a toxicant in the study.
    slots:
      - chebi_id
      - cas_id
      - chemical_name
      - uuid
      - synonym
    exact_mappings:
      - biolink:ChemicalEntity

  Image:
    is_a: Entity
    description: An image associated with a phenotype observation.
    slots:
      - uuid
      - magnification
      - resolution
      - scale_bar

  Fish:
    is_a: Entity
    description: A representation of the zebrafish used in the toxicology study.
    slots:
        - name
        - id
    slot_usage:
        name:
          required: true
        id:
          pattern: "^ZFIN:ZDB-FISH-[0-9]{4}-[0-9]{6}-[0-9]+$"

  QuantityValue:
    description: >-
      A value of an attribute that is quantitative and measurable,
      expressed as a combination of a unit and a numeric value
    slots:
      - unit
      - numeric_value


slots:
  id:
    range: uriorcurie
    required: true
  publication:
    description: The publication identifier (e.g., PMID, DOI) for the study, or "not published".
    range: string
  synonym:
    range: string
    multivalued: true
  name:
    description: Name or label of an entity.
  exposure_type:
    description: The exposure type.
    range: ExposureTypeEnum
  unit:
    description: The unit of the quantity value.
  numeric_value:
    description: The numeric value of the quantity value.
  experiment:
    description: The experiments in this study.
    range: Experiment
    multivalued: true
  phenotype_observation:
    description: The phenotype observations from this experiment.
    range: PhenotypeObservation
    multivalued: true
  control:
    description: Whether this is a control observation.
    range: boolean
  exposure_experiment:
    description: The exposure experiments for this observation.
    range: ExposureExperiment
    multivalued: true
  image:
    description: Images associated with this observation.
    range: Image
    multivalued: true
  phenotype:
    description: The phenotype observed.
    range: Phenotype
  stage:
    description: The developmental stage.
    range: uriorcurie
  prevalence:
    description: The prevalence of the phenotype.
    range: QuantityValue
    inlined_as_list: true
    inlined: true
  severity:
    description: The severity of the phenotype.
    range: SeverityEnum
  phenotype_term_id:
    description: The phenotype ontology term identifier.
    range: uriorcurie
  subject:
    description: The fish subject of the exposure experiment.
    range: Fish
  exposure_event:
    description: The exposure events in this experiment.
    range: ExposureEvent
    multivalued: true
  standard_rearing_conditions:
    description: Whether standard rearing conditions were used.
    range: boolean
  number_of_repeats:
    description: Number of repeats in the regimen.
    range: integer
  rearing_condition_comments:
    description: Comments about rearing conditions.
    range: string
  stressor_chemical:
    description: The stressor chemicals used.
    range: Stressor
    multivalued: true
  vehicle:
    description: The vehicles used in the exposure.
    range: VehicleEnumeration
    multivalued: true
  route:
    description: The route of exposure.
    range: ExposureRouteEnum
  regimen:
    description: The regimen for the exposure.
    range: Regimen
    multivalued: false
  exposure_start_stage:
    description: The developmental stage at exposure start.
    range: uriorcurie
    multivalued: false
  exposure_end_stage:
    description: The developmental stage at exposure end.
    range: uriorcurie
    multivalued: false
  comments:
    description: Additional comments.
    range: string
  additional_exposure_conditions:
    description: Additional exposure conditions.
    range: string
  chebi_id:
    description: CHEBI identifier for the chemical.
    range: uriorcurie
  cas_id:
    description: CAS identifier for the chemical.
    range: string
  chemical_name:
    description: Name of the chemical.
    range: string
  uuid:
    identifier: true
    description: UUID identifier.
    range: string
    required: true
  chemical:
    description: Chemical identifier (CHEBI, CAS, or UUID).
    range: ChemicalEntity
    required: true
  manufacturer:
    description: The manufacturer of the chemical.
    range: string
  dose:
    description: The dose of the chemical.
    range: QuantityValue
    required: true
  interval_between_exposures:
    description: Interval between individual exposures.
    range: QuantityValue
  time_between_first_and_last_exposure:
    description: Time between first and last individual exposure.
    range: QuantityValue
  individual_exposure_duration:
    description: Individual exposure duration.
    range: QuantityValue
  magnification:
    description: The magnification of the image.
    range: string
  resolution:
    description: The resolution of the image.
    range: string
  scale_bar:
    description: Scale bar information.
    range: string
  contributor:
    description: The contributors of the study.
    range: uriorcurie
    multivalued: true
    pattern: "^ORCID:[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{3}[0-9X]$"
  lab:
    description: The lab where the experiment originated.
    range: uriorcurie
    pattern: "^ZFIN:ZDB-LAB-[0-9]+-[0-9]+$"

enums:

  SeverityEnum:
    description: An enumeration of severity levels for phenotypes.
    permissible_values:
      mild:
        description: Mild severity
      moderate:
        description: Moderate severity
      severe:
        description: Severe severity

  ExposureTypeEnum:
    description: An enumeration of exposure types derived from the ECTO ontology.
    reachable_from:
      source_ontology: "ECTO"
      relationship_types:
        - "rdfs:subClassOf"
      include_self: true

  ExposureRouteEnum:
    description: An enumeration of exposure routes derived from the EXO ontology.
    reachable_from:
      source_ontology: obo:exo
      source_nodes:
        - EXO:0000002
      relationship_types:
        - rdfs:subClassOf
      include_self: true

  VehicleEnumeration:
    description: An enumeration of vehicles used in exposures.
    permissible_values:
      ethanol:
        description: Ethanol vehicle
        meaning: CHEBI:00000000
      dmso:
        description: DMSO vehicle
        meaning: CHEBI:00000000
      fish_water:
        description: Fish water vehicle
