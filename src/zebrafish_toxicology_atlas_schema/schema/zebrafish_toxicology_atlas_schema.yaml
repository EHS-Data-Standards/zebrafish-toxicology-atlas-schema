---
id: https://w3id.org/sierra-moxon/zebrafish-toxicology-atlas-schema
name: zebrafish-toxicology-atlas-schema
title: zebrafish-toxicology-atlas-schema
description: |-
  Schema to represent metadata associated with the Zebrafish Toxicology Atlas
license: MIT
see_also:
  - https://sierra-moxon.github.io/zebrafish-toxicology-atlas-schema

prefixes:
  zebrafish_toxicology_atlas_schema: https://w3id.org/sierra-moxon/zebrafish-toxicology-atlas-schema/
  linkml: https://w3id.org/linkml/
  biolink: https://w3id.org/biolink/
  schema: http://schema.org/
  PATO: http://purl.obolibrary.org/obo/PATO_
  example: https://example.org/
  CHEBI: http://purl.obolibrary.org/obo/CHEBI_
  CAS: https://commonchemistry.cas.org/detail?cas_rn=
  ECTO: http://purl.obolibrary.org/obo/ECTO_
  EXO: http://purl.obolibrary.org/obo/EXO_
  ORCID: https://orcid.org/
  ZFIN: https://zfin.org/
default_prefix: zebrafish_toxicology_atlas_schema
default_range: string

imports:
  - linkml:types

classes:

  Entity:
    description: The base class for all entities in the Zebrafish Toxicology Atlas Schema.
    abstract: true
    slots:
      - id

  Study:
    is_a: Entity
    description: A toxicology study containing experiments.
    slots:
      - has_experiments
      - publication
      - contributors
      - lab
      - id

  Experiment:
    is_a: Entity
    description: An experiment within a study.
    slots:
      - has_phenotype_observations
      - has_controls

  PhenotypeObservation:
    is_a: Entity
    description: An observation of phenotypes resulting from exposure experiments.
    slots:
      - has_exposure_experiments
      - has_images
      - has_phenotype
      - is_control
    rules:
      - preconditions:
          slot_conditions:
            is_control:
              equals_expression: "true"
        postconditions:
          slot_conditions:
            has_phenotype:
              required: false

  Phenotype:
    is_a: Entity
    description: A phenotype observed in the fish as a result of exposure.
    slots:
      - stage
      - has_prevalence
      - has_severity
      - phenotype_term_id

  ExposureExperiment:
    is_a: Entity
    description: An experiment exposing fish to chemical stressors.
    slots:
      - has_subject
      - has_exposure_events
      - standard_rearing_conditions
      - rearing_condition_comments

  ExposureEvent:
    is_a: Entity
    description: >-
      An instance of a toxicological exposure event in the study.
    slots:
      - has_stressor_chemicals
      - has_vehicles
      - has_route
      - has_regimen
      - exposure_start_stage
      - exposure_end_stage
      - comments
      - exposure_type
      - has_additional_exposure_conditions
    exact_mappings:
      - biolink:ExposureEvent

  Regimen:
    is_a: Entity
    description: The regimen of exposure events.
    slots:
      - interval_between_indv_exposures
      - time_btwn_1_and_last_indv_exposure
      - indv_exposure_duration
      - repeats

  Stressor:
    is_a: Entity
    description: A chemical stressor used in exposure experiments.
    slots:
      - chemical
      - manufacturer
      - dose
      - comments

  ChemicalEntity:
    is_a: Entity
    description: A chemical compound used as a toxicant in the study.
    slots:
      - chebi_id
      - cas_id
      - chemical_name
      - uuid
    exact_mappings:
      - biolink:ChemicalEntity

  Image:
    is_a: Entity
    description: An image associated with a phenotype observation.
    slots:
      - uuid
      - magnification
      - resolution
      - scale_bar

  Fish:
    is_a: Entity
    description: A representation of the zebrafish used in the toxicology study.
    slots:
        - name

  QuantityValue:
    description: >-
      A value of an attribute that is quantitative and measurable,
      expressed as a combination of a unit and a numeric value
    slots:
      - has_unit
      - has_numeric_value


slots:
  id:
    identifier: true
    range: string
  publication:
    description: The publication identifier (e.g., PMID, DOI) for the study, or "not published".
    range: string
  name:
    description: Name or label of an entity.
  exposure_type:
    description: The exposure type.
    range: ExposureTypeEnum
  has_unit:
    description: The unit of the quantity value.
  has_numeric_value:
    description: The numeric value of the quantity value.
  has_experiments:
    description: The experiments in this study.
    range: Experiment
    multivalued: true
  has_phenotype_observations:
    description: The phenotype observations from this experiment.
    range: PhenotypeObservation
    multivalued: true
  has_controls:
    description: The control phenotype observations.
    range: PhenotypeObservation
    multivalued: true
  has_exposure_experiments:
    description: The exposure experiments for this observation.
    range: ExposureExperiment
    multivalued: true
  has_images:
    description: Images associated with this observation.
    range: Image
    multivalued: true
  has_phenotype:
    description: The phenotype observed.
    range: Phenotype
  is_control:
    description: Whether this is a control observation.
    range: boolean
  stage:
    description: The developmental stage.
    range: uriorcurie
  has_prevalence:
    description: The prevalence of the phenotype.
    range: QuantityValue
    inlined_as_list: true
    inlined: true
  has_severity:
    description: The severity of the phenotype.
    range: QuantityValue
    inlined_as_list: true
    inlined: true
  phenotype_term_id:
    description: The phenotype ontology term identifier.
    range: uriorcurie
  has_subject:
    description: The fish subject of the exposure experiment.
    range: Fish
  has_exposure_events:
    description: The exposure events in this experiment.
    range: ExposureEvent
    multivalued: true
  standard_rearing_conditions:
    description: Whether standard rearing conditions were used.
    range: boolean
  repeats:
    description: Number of repeats in the regimen.
    range: integer
  rearing_condition_comments:
    description: Comments about rearing conditions.
    range: string
  has_stressor_chemicals:
    description: The stressor chemicals used.
    range: Stressor
    multivalued: true
  has_vehicles:
    description: The vehicles used in the exposure.
    range: VehicleEnumeration
    multivalued: true
  has_route:
    description: The route of exposure.
    range: ExposureRouteEnum
  has_regimen:
    description: The regimen for the exposure.
    range: Regimen
  exposure_start_stage:
    description: The developmental stage at exposure start.
    range: uriorcurie
  exposure_end_stage:
    description: The developmental stage at exposure end.
    range: uriorcurie
  comments:
    description: Additional comments.
    range: string
  has_additional_exposure_conditions:
    description: Additional exposure conditions.
    range: string
  chebi_id:
    description: CHEBI identifier for the chemical.
    range: uriorcurie
  cas_id:
    description: CAS identifier for the chemical.
    range: string
  chemical_name:
    description: Name of the chemical.
    range: string
  uuid:
    description: UUID identifier.
    range: string
  chemical:
    description: Chemical identifier (CHEBI, CAS, or UUID).
    range: ChemicalEntity
    required: true
  manufacturer:
    description: The manufacturer of the chemical.
    range: string
  dose:
    description: The dose of the chemical.
    range: QuantityValue
    required: true
  interval_between_indv_exposures:
    description: Interval between individual exposures.
    range: QuantityValue
  time_btwn_first_and_last_exposure:
    description: Time between first and last individual exposure.
    range: QuantityValue
  individual_exposure_duration:
    description: Individual exposure duration.
    range: QuantityValue
  magnification:
    description: The magnification of the image.
    range: string
  resolution:
    description: The resolution of the image.
    range: string
  scale_bar:
    description: Scale bar information.
    range: string
  contributors:
    description: The contributors of the study.
    range: uriorcurie
    multivalued: true
    pattern: "^ORCID:[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{3}[0-9X]$"
  lab:
    description: The lab where the experiment originated.
    range: uriorcurie
    pattern: "^ZFIN:ZDB-LAB-[0-9]+-[0-9]+$"

enums:
  ExposureTypeEnum:
    description: An enumeration of exposure types derived from the ECTO ontology.
    reachable_from:
      source_ontology: "ECTO"
      relationship_types:
        - "rdfs:subClassOf"
      include_self: true

  ExposureRouteEnum:
    description: An enumeration of exposure routes derived from the EXO ontology.
    reachable_from:
      source_ontology: obo:exo
      source_nodes:
        - EXO:0000002
      relationship_types:
        - rdfs:subClassOf
      include_self: true

  VehicleEnumeration:
    description: An enumeration of vehicles used in exposures.
    permissible_values:
      ethanol:
        description: Ethanol vehicle
        meaning: CHEBI:00000000
      dmso:
        description: DMSO vehicle
        meaning: CHEBI:00000000
      fish_water:
        description: Fish water vehicle
